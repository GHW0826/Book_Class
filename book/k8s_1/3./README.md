
kubectl  [[link](https://kubernetes.io/ko/docs/reference/kubectl/overview/)]

### 관리형
 - EKS, AKS, GKE

### 설치형
 - 수세의 Rancher, 레드햇의 OpenShift 등 플랫폼에서 제공

### 구성형
 - kubeadm, kops, KRIB, kubespray

-- 파드 배포 명령시 순서 (0 ~ 7 : 통신단계, 10번대는 순서 상관 없다)

- 0. kubectl : 쿠버네티스 클러스터에 명령을 내리는 역할. 바로 실행되는 바이너리로 배포됨.
- 1. API 서버 : 쿠버네티스 클러스터의 중심 통로 역할. 주로 상태 값 저장하는 etcd와 통신. 그 밖의 요소들 또한API 서버를 중심에 두고 통신.
- 2. etcd: 구성 요소들의 상태 값이 모두 저장되는 곳.여기만 백업돼 있으면 긴급 장애 상황에서도 쿠버네티스 클러스터 복구 가능. key-value 저장소.
- 3. 컨트롤러 매니저: 쿠버네티스 클러스터의 오브젝트 상태를 관리. 워커 노드 통신이 안되면, 상태 체크, 복구는 컨트롤러 매니저에 속한 노드 컨트롤러에서 이루어짐. 레플리카셋, 컨트롤러 매니저 포함됌.
- 4. 스케줄러: 노드의 상태와 자원, 레이블,요구 조건 등을 고려해 파드를 어떤 워커 노드에 생성할지 결정, 할당. 파드를 조건에 맞는 워커 노드에 지정, 파드가 워커 노드에 할당되는 일정을 관리하는 역할.

- 5. kubelet : 파드의 구성 내용(PodSpec)을 받아서 컨테이너 런타임으로 전달, 파드 안의 컨테이너들 모니터링
- 6. 컨테이너 런타임 : 파드를 이루는 컨테이너의 실행을 담당.파드 안에서 다양한 종류의 컨테이너가 작동하게 만드는 표준 인터페이스.
- 7. 파드 : 한 개 이상의 컨테이너로 목적의 일을 하기 위해 모인 단위. 웹서버 역할, 로그, 데이터 분석 가능. 언제든 죽을 수 있다.

- 11. 네트워크 플러그인 : 쿠버네티스 클러스터의 통신을 위해서 네트워크 플러그인을 선택하고 구성. 일반적으로 CNI로 구성. (캘리코, 플래널, 실리움, 큐브 라우터, 로마나, 위브넷, Canal등이 있음)
- 12. CoreDNS : 클라우드 네이티브 컴퓨팅 재단에서 보증하는 프로젝트, DNS서버이다. 쿠버네티스 클러스터에서 도메인 이름을 이용해 통신하는 데 사용. 실무에선 사용하는 것이 일반적.

-- 배포된 이후 사용자가 배포된 파드에 접속하는 과정.
- 1. kube-proxy : 쿠버네티스 클러스터는 파드가 위치한 노드에 kube-proxy를 통해 파트가 통신할 수 있는 네트워크 설정. 실제 통신은 br_netfilter, iptables로 관리.
- 2. 파드 : 이미 배포된 파드에 접속 필요한 내용을 전달받는다. 이때 대부분 사용자는 파드가 어느 워커 노드에 위치하는지 신경 안씀.
